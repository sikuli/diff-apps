<manifest xmlns:android="http://schemas.android.com/apk/res/android" package="org.thoughtcrime.securesms" versionName="0.7.1" versionCode="26">
    <permission android:label="Access to TextSecure Secrets" android:name="org.thoughtcrime.securesms.ACCESS_SECRETS" android:protectionLevel="signature"/>
    <uses-permission android:name="org.thoughtcrime.securesms.ACCESS_SECRETS"/>
    <uses-permission android:name="android.permission.BROADCAST_WAP_PUSH"/>
    <uses-permission android:name="android.permission.READ_CONTACTS"/>
    <uses-permission android:name="android.permission.WRITE_CONTACTS"/>
    <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED"/>
    <uses-permission android:name="android.permission.RECEIVE_SMS"/>
    <uses-permission android:name="android.permission.RECEIVE_MMS"/>
    <uses-permission android:name="android.permission.READ_SMS"/>
    <uses-permission android:name="android.permission.SEND_SMS"/>
    <uses-permission android:name="android.permission.WRITE_SMS"/>
    <uses-permission android:name="android.permission.VIBRATE"/>
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>
    <uses-permission android:name="android.permission.CHANGE_NETWORK_STATE"/>
    <uses-permission android:name="android.permission.READ_PHONE_STATE"/>
    <uses-permission android:name="android.permission.WAKE_LOCK"/>
    <uses-permission android:name="android.permission.INTERNET"/>
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>
    <application android:icon="@drawable/icon" android:label="@string/app_name" android:theme="@style/Theme.Sherlock.Light.DarkActionBar">
        <activity android:configChanges="touchscreen|keyboard|keyboardHidden|orientation|screenLayout|screenSize" android:label="@string/app_name" android:launchMode="singleTask" android:name=".ConversationListActivity" android:uiOptions="splitActionBarWhenNarrow">
            <intent-filter>
                <action android:name="android.intent.action.MAIN"/>
                <category android:name="android.intent.category.LAUNCHER"/>
            </intent-filter>
            <intent-filter>
                <action android:name="android.intent.action.SENDTO"/>
                <category android:name="android.intent.category.DEFAULT"/>
                <data android:scheme="sms"/>
                <data android:scheme="smsto"/>
            </intent-filter>
        </activity>
        <activity android:configChanges="touchscreen|keyboard|keyboardHidden|orientation|screenLayout|screenSize" android:name=".ConversationActivity" android:windowSoftInputMode="stateUnchanged"/>
        <activity android:configChanges="touchscreen|keyboard|keyboardHidden|orientation|screenLayout|screenSize" android:label="@string/AndroidManifest__create_passphrase" android:launchMode="singleInstance" android:name=".PassphraseCreateActivity" android:theme="@style/Theme.Sherlock.Light.Dialog"/>
        <activity android:configChanges="touchscreen|keyboard|keyboardHidden|orientation|screenLayout|screenSize" android:label="@string/AndroidManifest__enter_passphrase" android:launchMode="singleInstance" android:name=".PassphrasePromptActivity" android:theme="@style/Theme.Sherlock.Light.Dialog" android:windowSoftInputMode="stateVisible"/>
        <activity android:configChanges="touchscreen|keyboard|keyboardHidden|orientation|screenLayout|screenSize" android:label="@string/AndroidManifest__select_contacts" android:name=".ContactSelectionActivity"/>
        <activity android:configChanges="touchscreen|keyboard|keyboardHidden|orientation|screenLayout|screenSize" android:label="@string/AndroidManifest__textsecure_detected" android:name=".AutoInitiateActivity" android:theme="@style/Theme.Sherlock.Light.Dialog"/>
        <activity android:configChanges="touchscreen|keyboard|keyboardHidden|orientation|screenLayout|screenSize" android:label="@string/AndroidManifest__public_identity_key" android:name=".ViewIdentityActivity" android:theme="@style/Theme.Sherlock.Light.Dialog"/>
        <activity android:configChanges="touchscreen|keyboard|keyboardHidden|orientation|screenLayout|screenSize" android:label="@string/AndroidManifest__change_passphrase" android:launchMode="singleInstance" android:name=".PassphraseChangeActivity" android:theme="@style/Theme.Sherlock.Light.Dialog"/>
        <activity android:configChanges="touchscreen|keyboard|keyboardHidden|orientation|screenLayout|screenSize" android:label="@string/AndroidManifest__verify_session" android:name=".VerifyKeysActivity"/>
        <activity android:configChanges="touchscreen|keyboard|keyboardHidden|orientation|screenLayout|screenSize" android:label="@string/AndroidManifest__verify_identity" android:name=".VerifyIdentityActivity"/>
        <activity android:configChanges="touchscreen|keyboard|keyboardHidden|orientation|screenLayout|screenSize" android:label="@string/AndroidManifest__save_identity" android:name=".SaveIdentityActivity" android:theme="@style/Theme.Sherlock.Light.Dialog" android:windowSoftInputMode="stateVisible"/>
        <activity android:configChanges="touchscreen|keyboard|keyboardHidden|orientation|screenLayout|screenSize" android:label="@string/AndroidManifest__manage_identity_keys" android:name=".ReviewIdentitiesActivity"/>
        <activity android:configChanges="touchscreen|keyboard|keyboardHidden|orientation|screenLayout|screenSize" android:label="@string/AndroidManifest__complete_key_exchange" android:name=".ReceiveKeyActivity" android:theme="@style/Theme.Sherlock.Light.Dialog"/>
        <activity android:configChanges="touchscreen|keyboard|keyboardHidden|orientation|screenLayout|screenSize" android:name=".ApplicationPreferencesActivity"/>
        <activity android:configChanges="touchscreen|keyboard|keyboardHidden|orientation|screenLayout|screenSize" android:label="@string/AndroidManifest__verify_imported_identity" android:name=".VerifyImportedIdentityActivity" android:theme="@style/Theme.Sherlock.Light.Dialog"/>
        <service android:enabled="true" android:name=".service.ApplicationMigrationService"/>
        <service android:enabled="true" android:name=".service.KeyCachingService"/>
        <service android:enabled="true" android:name=".service.SendReceiveService"/>
        <receiver android:enabled="true" android:exported="true" android:name=".service.SmsListener">
            <intent-filter android:priority="1001">
                <action android:name="android.provider.Telephony.SMS_RECEIVED"/>
            </intent-filter>
            <intent-filter>
                <action android:name="org.thoughtcrime.securesms.services.MESSAGE_SENT"/>
            </intent-filter>
        </receiver>
        <receiver android:enabled="true" android:exported="true" android:name=".service.MmsListener" android:permission="android.permission.BROADCAST_WAP_PUSH">
            <intent-filter android:priority="1001">
                <action android:name="android.provider.Telephony.WAP_PUSH_RECEIVED"/>
                <data android:mimeType="application/vnd.wap.mms-message"/>
            </intent-filter>
        </receiver>
        <provider android:authorities="org.thoughtcrime.provider.securesms" android:name=".providers.PartProvider"/>
        <uses-library android:name="android.test.runner"/>
    </application>
    <instrumentation android:label="Tests for My App" android:name="android.test.InstrumentationTestRunner" android:targetPackage="org.thoughtcrime.securesms.tests"/>
<uses-sdk android:targetSdkVersion="15" android:minSdkVersion="8"/></manifest>
